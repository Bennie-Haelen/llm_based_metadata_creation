CREATE OR REPLACE TABLE
  `hca-sandbox.hca_metadata_pot.fhir_encounters` (
    encounter_id STRING OPTIONS(description="The 'encounter_id' field represents the unique identifier for a specific encounter within the system. This is a crucial element for referencing and tracking individual patient encounters. It is typically a system-generated identifier and is essential for linking related data across different systems. This field corresponds to the 'id' element in the FHIR Encounter resource."),
    lastupdated TIMESTAMP OPTIONS(description="The 'lastupdated' field indicates the timestamp when the encounter record was last modified in the system. This is important for tracking changes and ensuring data integrity. It corresponds to the 'meta.lastUpdated' element in the FHIR Encounter resource, reflecting the last time the resource was updated."),
    hl7_message_date_time STRING OPTIONS(description="The 'hl7_message_date_time' field stores the date and time when the HL7 message related to this encounter was created. This is useful for tracing the origin of the data and for debugging purposes. It is typically a string representation of a date and time, often in a format specific to HL7 messages."),
    hl7_message_date_time_UTC TIMESTAMP OPTIONS(description="The 'hl7_message_date_time_UTC' field stores the date and time when the HL7 message related to this encounter was created, specifically in UTC timezone. This ensures consistency and avoids timezone-related issues. It is a timestamp representing the creation time of the HL7 message in UTC."),
    hl7_message_control_id STRING OPTIONS(description="The 'hl7_message_control_id' field contains the control ID of the HL7 message associated with this encounter. This ID is used to uniquely identify the HL7 message within the system and is crucial for message tracking and processing. It is a string value representing the HL7 message control ID."),
    meta_latest_source_date_time STRING OPTIONS(description="The 'meta_latest_source_date_time' field represents the date and time when the source system last updated the encounter data. This is useful for tracking data provenance and identifying the most recent updates. It is a string representation of a date and time from the source system."),
    intermediate_snapshot_creation_date_time STRING OPTIONS(description="The 'intermediate_snapshot_creation_date_time' field indicates the date and time when an intermediate snapshot of the encounter data was created. This is often used in data processing pipelines for auditing and recovery purposes. It is a string representation of a date and time."),
    final_fhir_write_date_time STRING OPTIONS(description="The 'final_fhir_write_date_time' field represents the date and time when the encounter data was written to the FHIR repository. This is important for tracking the data flow and ensuring that the data is properly stored in the FHIR system. It is a string representation of a date and time."),
    final_fhir_commit_date_time TIMESTAMP OPTIONS(description="The 'final_fhir_commit_date_time' field indicates the timestamp when the encounter data was committed to the FHIR repository. This is a crucial point in the data lifecycle, marking when the data is officially stored. It is a timestamp value."),
    encounter_version_id STRING OPTIONS(description="The 'encounter_version_id' field represents the version identifier of the encounter resource. This is used to track changes to the encounter over time. It corresponds to the 'meta.versionId' element in the FHIR Encounter resource."),
    version_id_fingerprint INTEGER OPTIONS(description="The 'version_id_fingerprint' field is an integer representing a fingerprint or hash of the encounter's version ID. This can be used for quick comparisons of versions. It is an integer value."),
    consent_coid STRING OPTIONS(description="The 'consent_coid' field represents the consent organization identifier associated with the encounter. This is used to track which organization has consent to access the encounter data. It is a string value."),
    meta_action_code STRING OPTIONS(description="The 'meta_action_code' field indicates the type of action performed on the encounter resource (e.g., create, update, delete). This is useful for auditing and tracking changes. It is a string value representing the action code."),
    hl7_v2_source_interface STRING OPTIONS(description="The 'hl7_v2_source_interface' field specifies the interface from which the HL7 v2 message originated. This is useful for identifying the source system of the encounter data. It is a string value."),
    patient_account_num STRING OPTIONS(description="The 'patient_account_num' field stores the patient's account number associated with the encounter. This is used for billing and financial tracking. It is a string value."),
    patient_primary_id STRING OPTIONS(description="The 'patient_primary_id' field represents the primary identifier for the patient associated with the encounter. This is a crucial element for linking the encounter to the correct patient. It is a string value."),
    network_mnemonic STRING OPTIONS(description="The 'network_mnemonic' field represents the mnemonic or short code for the network associated with the encounter. This is used for organizational purposes. It is a string value."),
    medical_record_num STRING OPTIONS(description="The 'medical_record_num' field stores the patient's medical record number associated with the encounter. This is a key identifier for patient records. It is a string value."),
    coid STRING OPTIONS(description="The 'coid' field represents the organization identifier associated with the encounter. This is used to track which organization is responsible for the encounter. It is a string value."),
    facility_mnemonic STRING OPTIONS(description="The 'facility_mnemonic' field represents the mnemonic or short code for the facility where the encounter occurred. This is used for organizational purposes. It is a string value."),
    fhir_visit_status STRING OPTIONS(description="The 'fhir_visit_status' field represents the status of the encounter, such as planned, in-progress, or completed. This corresponds to the 'status' element in the FHIR Encounter resource. It is a string value."),
    fhir_patient_class_code STRING OPTIONS(description="The 'fhir_patient_class_code' field represents the code for the patient class associated with the encounter (e.g., inpatient, outpatient). This corresponds to the 'class.code' element in the FHIR Encounter resource. It is a string value."),
    fhir_patient_class_display STRING OPTIONS(description="The 'fhir_patient_class_display' field represents the display text for the patient class associated with the encounter. This provides a human-readable description of the patient class. It is a string value."),
    patient_type STRING OPTIONS(description="The 'patient_type' field represents the type of patient associated with the encounter. This is a general classification of the patient. It is a string value."),
    admission_type STRING OPTIONS(description="The 'admission_type' field represents the type of admission for the encounter. This is used to categorize the reason for the patient's admission. It is a string value."),
    patient_class_code STRING OPTIONS(description="The 'patient_class_code' field represents the code for the patient class associated with the encounter. This is a coded representation of the patient's class. It is a string value."),
    account_status_code STRING OPTIONS(description="The 'account_status_code' field represents the status code of the patient's account associated with the encounter. This is used for financial tracking. It is a string value."),
    vip_indicator_code STRING OPTIONS(description="The 'vip_indicator_code' field indicates whether the patient is a VIP. This is used for special handling of certain patients. It is a string value."),
    financial_class_code STRING OPTIONS(description="The 'financial_class_code' field represents the financial class code associated with the encounter. This is used for billing and financial tracking. It is a string value."),
    mode_of_arrival_code STRING OPTIONS(description="The 'mode_of_arrival_code' field represents the code for how the patient arrived for the encounter (e.g., ambulance, walk-in). This is used for tracking patient arrival methods. It is a string value."),
    accommodation_code STRING OPTIONS(description="The 'accommodation_code' field represents the code for the patient's accommodation during the encounter (e.g., room type). This is used for tracking patient location. It is a string value."),
    accommodation_code_category STRING OPTIONS(description="The 'accommodation_code_category' field represents the category of the patient's accommodation code. This provides a higher-level grouping of accommodation types. It is a string value."),
    hospital_service_type_code STRING OPTIONS(description="The 'hospital_service_type_code' field represents the code for the type of hospital service associated with the encounter (e.g., cardiology, surgery). This is used for tracking the service provided. It is a string value."),
    hospital_service_type_text STRING OPTIONS(description="The 'hospital_service_type_text' field represents the text description of the hospital service type associated with the encounter. This provides a human-readable description of the service. It is a string value."),
    admit_source_code STRING OPTIONS(description="The 'admit_source_code' field represents the code for the source of the patient's admission (e.g., emergency room, referral). This is used for tracking the origin of the admission. It is a string value."),
    discharge_disposition ARRAY<STRUCT<code STRING OPTIONS(description="The 'code' field within 'discharge_disposition' represents the coded value for the patient's discharge disposition. This is a coded representation of the disposition. It is a string value."), display STRING OPTIONS(description="The 'display' field within 'discharge_disposition' represents the human-readable text for the patient's discharge disposition. This provides a description of the disposition. It is a string value.")>> OPTIONS(description="The 'discharge_disposition' field is a repeated record that represents the disposition of the patient upon discharge. It includes the code and display text for the discharge disposition. This corresponds to the 'hospitalization.dischargeDisposition' element in the FHIR Encounter resource."),
    patient_id STRING OPTIONS(description="The 'patient_id' field represents the unique identifier for the patient associated with the encounter. This is a crucial element for linking the encounter to the correct patient. It is a string value and corresponds to the 'subject.reference' in the FHIR Encounter resource."),
    appointment_id STRING OPTIONS(description="The 'appointment_id' field represents the unique identifier for the appointment associated with the encounter. This is used to link the encounter to a specific appointment. It is a string value."),
    account_id STRING OPTIONS(description="The 'account_id' field represents the unique identifier for the patient's account associated with the encounter. This is used for billing and financial tracking. It is a string value."),
    deceased_date_time STRING OPTIONS(description="The 'deceased_date_time' field represents the date and time when the patient was declared deceased, if applicable. This is used to record the patient's death. It is a string representation of a date and time."),
    admission_date STRING OPTIONS(description="The 'admission_date' field represents the date when the patient was admitted for the encounter. This is a key date for tracking the start of the encounter. It is a string representation of a date."),
    discharge_date STRING OPTIONS(description="The 'discharge_date' field represents the date when the patient was discharged from the encounter. This is a key date for tracking the end of the encounter. It is a string representation of a date."),
    is_valid_date_ind BOOLEAN OPTIONS(description="The 'is_valid_date_ind' field is a boolean indicator that specifies whether the dates associated with the encounter are valid. This is used for data quality checks. It is a boolean value."),
    alt_admission_date_time STRING OPTIONS(description="The 'alt_admission_date_time' field represents an alternative date and time for the patient's admission. This is used when there are multiple admission times. It is a string representation of a date and time."),
    hl7_admission_date_time STRING OPTIONS(description="The 'hl7_admission_date_time' field represents the date and time of admission as recorded in the HL7 message. This is used for tracking the admission time from the HL7 source. It is a string representation of a date and time."),
    alt_discharge_date_time STRING OPTIONS(description="The 'alt_discharge_date_time' field represents an alternative date and time for the patient's discharge. This is used when there are multiple discharge times. It is a string representation of a date and time."),
    hl7_discharge_date_time STRING OPTIONS(description="The 'hl7_discharge_date_time' field represents the date and time of discharge as recorded in the HL7 message. This is used for tracking the discharge time from the HL7 source. It is a string representation of a date and time."),
    reason_for_visit_text STRING OPTIONS(description="The 'reason_for_visit_text' field represents the text description of the reason for the patient's visit. This provides a human-readable description of the visit's purpose. It is a string value."),
    mt_reason_for_visit_code STRING OPTIONS(description="The 'mt_reason_for_visit_code' field represents the coded value for the reason for the patient's visit. This is a coded representation of the visit's purpose. It is a string value."),
    patient_location ARRAY<STRUCT<location_id STRING OPTIONS(description="The 'location_id' field within 'patient_location' represents the unique identifier for the location. This is used to identify the specific location. It is a string value."), mnemonic STRING OPTIONS(description="The 'mnemonic' field within 'patient_location' represents the short code or mnemonic for the location. This is used for organizational purposes. It is a string value."), physical_type STRING OPTIONS(description="The 'physical_type' field within 'patient_location' represents the physical type of the location (e.g., room, bed). This is used to categorize the location. It is a string value.")>> OPTIONS(description="The 'patient_location' field is a repeated record that represents the locations where the patient was during the encounter. It includes the location ID, mnemonic, and physical type. This corresponds to the 'location' element in the FHIR Encounter resource."),
    emergency_department STRUCT<edm_arrived_date_time STRING OPTIONS(description="The 'edm_arrived_date_time' field within 'emergency_department' represents the date and time when the patient arrived at the emergency department. This is used for tracking arrival times. It is a string representation of a date and time."), edm_triaged_date_time STRING OPTIONS(description="The 'edm_triaged_date_time' field within 'emergency_department' represents the date and time when the patient was triaged in the emergency department. This is used for tracking triage times. It is a string representation of a date and time."), edm_departure_date_time STRING OPTIONS(description="The 'edm_departure_date_time' field within 'emergency_department' represents the date and time when the patient departed from the emergency department. This is used for tracking departure times. It is a string representation of a date and time."), coid STRING OPTIONS(description="The 'coid' field within 'emergency_department' represents the organization identifier associated with the emergency department encounter. This is used to track which organization is responsible. It is a string value."), priority_rank STRING OPTIONS(description="The 'priority_rank' field within 'emergency_department' represents the priority rank of the patient in the emergency department. This is used for prioritizing patient care. It is a string value."), priority_code STRING OPTIONS(description="The 'priority_code' field within 'emergency_department' represents the coded value for the patient's priority in the emergency department. This is a coded representation of the priority. It is a string value."), priority_text STRING OPTIONS(description="The 'priority_text' field within 'emergency_department' represents the text description of the patient's priority in the emergency department. This provides a human-readable description of the priority. It is a string value."), edm_reason_for_visit_code STRING OPTIONS(description="The 'edm_reason_for_visit_code' field within 'emergency_department' represents the coded value for the reason for the patient's visit to the emergency department. This is a coded representation of the visit's purpose. It is a string value."), edm_reason_for_visit_text STRING OPTIONS(description="The 'edm_reason_for_visit_text' field within 'emergency_department' represents the text description of the reason for the patient's visit to the emergency department. This provides a human-readable description of the visit's purpose. It is a string value."), departure_info STRUCT<departure_disposition_code STRING OPTIONS(description="The 'departure_disposition_code' field within 'departure_info' represents the coded value for the patient's departure disposition from the emergency department. This is a coded representation of the disposition. It is a string value."), departure_disposition_text STRING OPTIONS(description="The 'departure_disposition_text' field within 'departure_info' represents the text description of the patient's departure disposition from the emergency department. This provides a human-readable description of the disposition. It is a string value."), departure_disposition_display STRING OPTIONS(description="The 'departure_disposition_display' field within 'departure_info' represents the display text for the patient's departure disposition from the emergency department. This provides a displayable description of the disposition. It is a string value."), departure_condition_code STRING OPTIONS(description="The 'departure_condition_code' field within 'departure_info' represents the coded value for the patient's condition upon departure from the emergency department. This is a coded representation of the condition. It is a string value."), departure_condition_text STRING OPTIONS(description="The 'departure_condition_text' field within 'departure_info' represents the text description of the patient's condition upon departure from the emergency department. This provides a human-readable description of the condition. It is a string value."), departure_condition_display STRING OPTIONS(description="The 'departure_condition_display' field within 'departure_info' represents the display text for the patient's condition upon departure from the emergency department. This provides a displayable description of the condition. It is a string value."), departure_comments STRING OPTIONS(description="The 'departure_comments' field within 'departure_info' represents any comments related to the patient's departure from the emergency department. This is used for additional notes. It is a string value.")>, patient_location STRUCT<treatment_room STRUCT<room_code STRING OPTIONS(description="The 'room_code' field within 'treatment_room' represents the coded value for the treatment room. This is a coded representation of the room. It is a string value."), room_text STRING OPTIONS(description="The 'room_text' field within 'treatment_room' represents the text description of the treatment room. This provides a human-readable description of the room. It is a string value.")>, edm_location STRUCT<location_code STRING OPTIONS(description="The 'location_code' field within 'edm_location' represents the coded value for the location within the emergency department. This is a coded representation of the location. It is a string value."), location_text STRING OPTIONS(description="The 'location_text' field within 'edm_location' represents the text description of the location within the emergency department. This provides a human-readable description of the location. It is a string value.")>, reserved_room STRUCT<room_code STRING OPTIONS(description="The 'room_code' field within 'reserved_room' represents the coded value for the reserved room. This is a coded representation of the room. It is a string value."), room_text STRING OPTIONS(description="The 'room_text' field within 'reserved_room' represents the text description of the reserved room. This provides a human-readable description of the room. It is a string value.")>>, edm_transport STRUCT<transport_company_code STRING OPTIONS(description="The 'transport_company_code' field within 'edm_transport' represents the coded value for the transport company. This is a coded representation of the company. It is a string value."), transport_company_display STRING OPTIONS(description="The 'transport_company_display' field within 'edm_transport' represents the display text for the transport company. This provides a displayable description of the company. It is a string value."), transport_id_code STRING OPTIONS(description="The 'transport_id_code' field within 'edm_transport' represents the coded value for the transport ID. This is a coded representation of the transport ID. It is a string value."), transport_id_display STRING OPTIONS(description="The 'transport_id_display' field within 'edm_transport' represents the display text for the transport ID. This provides a displayable description of the transport ID. It is a string value."), transport_call_date_time STRING OPTIONS(description="The 'transport_call_date_time' field within 'edm_transport' represents the date and time when the transport was called. This is used for tracking transport times. It is a string representation of a date and time.")>> OPTIONS(description="The 'emergency_department' field is a record that contains information specific to emergency department encounters. It includes arrival, triage, and departure times, as well as priority and location details."),
    registration_query ARRAY<STRUCT<mnemonic STRING OPTIONS(description="The 'mnemonic' field within 'registration_query' represents the short code or mnemonic for the registration question. This is used for organizational purposes. It is a string value."), question STRING OPTIONS(description="The 'question' field within 'registration_query' represents the text of the registration question. This is the question asked during registration. It is a string value."), response STRING OPTIONS(description="The 'response' field within 'registration_query' represents the patient's response to the registration question. This is the answer provided during registration. It is a string value.")>> OPTIONS(description="The 'registration_query' field is a repeated record that represents questions and responses related to the patient's registration. This is used for capturing registration information. It includes the mnemonic, question, and response."),
    insert_timestamp TIMESTAMP
  )
OPTIONS(
  description="This table stores FHIR Encounter resources. Encounters represent an interaction between a patient and healthcare provider(s) for the purpose of providing healthcare service(s). This includes visits, consultations, admissions, and other types of healthcare interactions. The table contains fields that map to the core elements of the FHIR Encounter resource, such as status, class, type, subject (patient), participant, period, location, serviceProvider, and reasonCode. It also includes fields for managing the resource itself, such as the resource ID, last updated timestamp, and version ID. This table is intended to provide a structured and queryable representation of encounter data for analysis and reporting."
);
